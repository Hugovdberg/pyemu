

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>pyemu.pst package &mdash; pyEMU 1.0.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/graphviz.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> pyEMU
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#">pyemu.pst package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-pyemu.pst.pst_controldata">pyemu.pst.pst_controldata module</a></li>
<li><a class="reference internal" href="#module-pyemu.pst.pst_handler">pyemu.pst.pst_handler module</a></li>
<li><a class="reference internal" href="#module-pyemu.pst.pst_utils">pyemu.pst.pst_utils module</a></li>
<li><a class="reference internal" href="#module-pyemu.pst">Module contents</a><ul>
<li><a class="reference internal" href="#pyemu.pst.pst_controldata.ControlData">ControlData</a><ul>
<li><a class="reference internal" href="#pyemu.pst.pst_controldata.ControlData.copy">copy</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_controldata.ControlData.formatted_values">formatted_values</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_controldata.ControlData.get_dataframe">get_dataframe</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_controldata.ControlData.parse_values_from_lines">parse_values_from_lines</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_controldata.ControlData.write">write</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_controldata.ControlData.write_keyword">write_keyword</a></li>
</ul>
</li>
<li><a class="reference internal" href="#pyemu.pst.pst_controldata.FFMT">FFMT</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_controldata.IFMT">IFMT</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_controldata.RegData">RegData</a><ul>
<li><a class="reference internal" href="#pyemu.pst.pst_controldata.RegData.write">write</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_controldata.RegData.write_keyword">write_keyword</a></li>
</ul>
</li>
<li><a class="reference internal" href="#pyemu.pst.pst_controldata.SFMT">SFMT</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_controldata.SFMT_LONG">SFMT_LONG</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_controldata.SvdData">SvdData</a><ul>
<li><a class="reference internal" href="#pyemu.pst.pst_controldata.SvdData.parse_values_from_lines">parse_values_from_lines</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_controldata.SvdData.write">write</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_controldata.SvdData.write_keyword">write_keyword</a></li>
</ul>
</li>
<li><a class="reference internal" href="#pyemu.pst.pst_handler.Pst">Pst</a><ul>
<li><a class="reference internal" href="#pyemu.pst.pst_handler.Pst.add_observations">add_observations</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_handler.Pst.add_parameters">add_parameters</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_handler.Pst.add_pi_equation">add_pi_equation</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_handler.Pst.add_transform_columns">add_transform_columns</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_handler.Pst.adj_par_groups">adj_par_groups</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_handler.Pst.adj_par_names">adj_par_names</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_handler.Pst.adjust_weights">adjust_weights</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_handler.Pst.adjust_weights_discrepancy">adjust_weights_discrepancy</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_handler.Pst.bounds_report">bounds_report</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_handler.Pst.build_increments">build_increments</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_handler.Pst.calculate_pertubations">calculate_pertubations</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_handler.Pst.control_data">control_data</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_handler.Pst.enforce_bounds">enforce_bounds</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_handler.Pst.estimation">estimation</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_handler.Pst.forecast_names">forecast_names</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_handler.Pst.from_io_files">from_io_files</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_handler.Pst.from_par_obs_names">from_par_obs_names</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_handler.Pst.get">get</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_handler.Pst.get_adj_pars_at_bounds">get_adj_pars_at_bounds</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_handler.Pst.get_par_change_limits">get_par_change_limits</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_handler.Pst.get_res_stats">get_res_stats</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_handler.Pst.greater_than_obs_constraints">greater_than_obs_constraints</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_handler.Pst.greater_than_pi_constraints">greater_than_pi_constraints</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_handler.Pst.less_than_obs_constraints">less_than_obs_constraints</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_handler.Pst.less_than_pi_constraints">less_than_pi_constraints</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_handler.Pst.load">load</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_handler.Pst.nnz_obs">nnz_obs</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_handler.Pst.nnz_obs_groups">nnz_obs_groups</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_handler.Pst.nnz_obs_names">nnz_obs_names</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_handler.Pst.nobs">nobs</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_handler.Pst.npar">npar</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_handler.Pst.npar_adj">npar_adj</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_handler.Pst.nprior">nprior</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_handler.Pst.obs_groups">obs_groups</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_handler.Pst.obs_names">obs_names</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_handler.Pst.observation_data">observation_data</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_handler.Pst.par_groups">par_groups</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_handler.Pst.par_names">par_names</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_handler.Pst.parameter_data">parameter_data</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_handler.Pst.parrep">parrep</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_handler.Pst.phi">phi</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_handler.Pst.phi_components">phi_components</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_handler.Pst.phi_components_normalized">phi_components_normalized</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_handler.Pst.plot">plot</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_handler.Pst.prior_groups">prior_groups</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_handler.Pst.prior_information">prior_information</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_handler.Pst.prior_names">prior_names</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_handler.Pst.process_output_files">process_output_files</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_handler.Pst.proportional_weights">proportional_weights</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_handler.Pst.rectify_pgroups">rectify_pgroups</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_handler.Pst.rectify_pi">rectify_pi</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_handler.Pst.reg_data">reg_data</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_handler.Pst.res">res</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_handler.Pst.sanity_checks">sanity_checks</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_handler.Pst.set_res">set_res</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_handler.Pst.svd_data">svd_data</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_handler.Pst.tied">tied</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_handler.Pst.try_parse_name_metadata">try_parse_name_metadata</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_handler.Pst.write">write</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_handler.Pst.write_input_files">write_input_files</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_handler.Pst.write_obs_summary_table">write_obs_summary_table</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_handler.Pst.write_par_summary_table">write_par_summary_table</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_handler.Pst.zero_weight_obs_names">zero_weight_obs_names</a></li>
</ul>
</li>
<li><a class="reference internal" href="#pyemu.pst.pst_utils.FFMT">FFMT</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_utils.IFMT">IFMT</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_utils.InstructionFile">InstructionFile</a><ul>
<li><a class="reference internal" href="#pyemu.pst.pst_utils.InstructionFile.obs_name_set">obs_name_set</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_utils.InstructionFile.read_ins_file">read_ins_file</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_utils.InstructionFile.read_output_file">read_output_file</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_utils.InstructionFile.throw_ins_error">throw_ins_error</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_utils.InstructionFile.throw_ins_warning">throw_ins_warning</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_utils.InstructionFile.throw_out_error">throw_out_error</a></li>
</ul>
</li>
<li><a class="reference internal" href="#pyemu.pst.pst_utils.SFMT">SFMT</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_utils.SFMT_LONG">SFMT_LONG</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_utils.clean_missing_exponent">clean_missing_exponent</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_utils.csv_to_ins_file">csv_to_ins_file</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_utils.generic_pst">generic_pst</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_utils.get_phi_comps_from_recfile">get_phi_comps_from_recfile</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_utils.parse_ins_file">parse_ins_file</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_utils.parse_tpl_file">parse_tpl_file</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_utils.process_output_files">process_output_files</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_utils.read_parfile">read_parfile</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_utils.read_resfile">read_resfile</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_utils.res_from_en">res_from_en</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_utils.res_from_obseravtion_data">res_from_obseravtion_data</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_utils.str_con">str_con</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_utils.try_process_output_file">try_process_output_file</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_utils.try_process_output_pst">try_process_output_pst</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_utils.write_input_files">write_input_files</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_utils.write_parfile">write_parfile</a></li>
<li><a class="reference internal" href="#pyemu.pst.pst_utils.write_to_template">write_to_template</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">pyEMU</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>pyemu.pst package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/pyemu.pst.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="pyemu-pst-package">
<h1>pyemu.pst package<a class="headerlink" href="#pyemu-pst-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-pyemu.pst.pst_controldata">
<span id="pyemu-pst-pst-controldata-module"></span><h2>pyemu.pst.pst_controldata module<a class="headerlink" href="#module-pyemu.pst.pst_controldata" title="Permalink to this headline">¶</a></h2>
<p>This module contains several class definitions for obseure parts of the
PEST control file: <cite>ControlData</cite> (‘* control data’), <cite>RegData</cite> (‘* regularization’)
and <cite>SvdData</cite> (‘* singular value decomposition’).  These
classes are automatically created and appended to <cite>Pst</cite> instances;
users shouldn’t need to deal with these classes explicitly</p>
<dl class="py class">
<dt id="pyemu.pst.pst_controldata.ControlData">
<em class="property">class </em><code class="sig-prename descclassname">pyemu.pst.pst_controldata.</code><code class="sig-name descname">ControlData</code><a class="headerlink" href="#pyemu.pst.pst_controldata.ControlData" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="simple">
<dt>an object that encapsulates the control data section</dt><dd><p>of the PEST control file</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>This class works hard to protect the variables in the control data section.
It type checks attempts to change values to make sure the type being passed
matches the expected type of the attribute.</p>
<dl class="py method">
<dt id="pyemu.pst.pst_controldata.ControlData.copy">
<code class="sig-name descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.pst.pst_controldata.ControlData.copy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pyemu.pst.pst_controldata.ControlData.formatted_values">
<em class="property">property </em><code class="sig-name descname">formatted_values</code><a class="headerlink" href="#pyemu.pst.pst_controldata.ControlData.formatted_values" title="Permalink to this definition">¶</a></dt>
<dd><p>list the entries and current values in the control data section</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>formatted_values for the control data entries</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>pandas.Series</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pyemu.pst.pst_controldata.ControlData.get_dataframe">
<em class="property">static </em><code class="sig-name descname">get_dataframe</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.pst.pst_controldata.ControlData.get_dataframe" title="Permalink to this definition">¶</a></dt>
<dd><p>get a generic (default) control section as a dataframe</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a dataframe of control data information</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><cite>pandas.DataFrame</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pyemu.pst.pst_controldata.ControlData.parse_values_from_lines">
<code class="sig-name descname">parse_values_from_lines</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">lines</span></em>, <em class="sig-param"><span class="n">iskeyword</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.pst.pst_controldata.ControlData.parse_values_from_lines" title="Permalink to this definition">¶</a></dt>
<dd><p>cast the string lines for a pest control file into actual inputs</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>lines</strong> ([<cite>str</cite>]) – raw ASCII lines from pest control file</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pyemu.pst.pst_controldata.ControlData.write">
<code class="sig-name descname">write</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">f</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.pst.pst_controldata.ControlData.write" title="Permalink to this definition">¶</a></dt>
<dd><p>write control data section to a file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>f</strong> (<em>file handle</em>) – open file handle to write to</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pyemu.pst.pst_controldata.ControlData.write_keyword">
<code class="sig-name descname">write_keyword</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">f</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.pst.pst_controldata.ControlData.write_keyword" title="Permalink to this definition">¶</a></dt>
<dd><p>write the control data entries to an open file handle
using keyword-style format.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>f</strong> (<em>file handle</em>) – open file handle to write to</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>only writes values that have been accessed since instantiation</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="pyemu.pst.pst_controldata.FFMT">
<code class="sig-prename descclassname">pyemu.pst.pst_controldata.</code><code class="sig-name descname">FFMT</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.pst.pst_controldata.FFMT" title="Permalink to this definition">¶</a></dt>
<dd><p>lambda function for string formatting <cite>float</cite> types into 15-char widths</p>
</dd></dl>

<dl class="py function">
<dt id="pyemu.pst.pst_controldata.IFMT">
<code class="sig-prename descclassname">pyemu.pst.pst_controldata.</code><code class="sig-name descname">IFMT</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.pst.pst_controldata.IFMT" title="Permalink to this definition">¶</a></dt>
<dd><p>lambda function for string formatting <cite>int</cite> types into 10-char widths</p>
</dd></dl>

<dl class="py class">
<dt id="pyemu.pst.pst_controldata.RegData">
<em class="property">class </em><code class="sig-prename descclassname">pyemu.pst.pst_controldata.</code><code class="sig-name descname">RegData</code><a class="headerlink" href="#pyemu.pst.pst_controldata.RegData" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>an object that encapsulates the regularization section
of the PEST control file</p>
<dl class="py method">
<dt id="pyemu.pst.pst_controldata.RegData.write">
<code class="sig-name descname">write</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">f</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.pst.pst_controldata.RegData.write" title="Permalink to this definition">¶</a></dt>
<dd><p>write the regularization section to an open
file handle</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>f</strong> (<cite>file handle</cite>) – open file handle for writing</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pyemu.pst.pst_controldata.RegData.write_keyword">
<code class="sig-name descname">write_keyword</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">f</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.pst.pst_controldata.RegData.write_keyword" title="Permalink to this definition">¶</a></dt>
<dd><p>write the regularization section to an open
file handle using the keyword-style format</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>f</strong> (<cite>file handle</cite>) – open file handle for writing</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="pyemu.pst.pst_controldata.SFMT">
<code class="sig-prename descclassname">pyemu.pst.pst_controldata.</code><code class="sig-name descname">SFMT</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.pst.pst_controldata.SFMT" title="Permalink to this definition">¶</a></dt>
<dd><p>lambda function for string formatting <cite>str</cite> types into 20-char widths</p>
</dd></dl>

<dl class="py function">
<dt id="pyemu.pst.pst_controldata.SFMT_LONG">
<code class="sig-prename descclassname">pyemu.pst.pst_controldata.</code><code class="sig-name descname">SFMT_LONG</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.pst.pst_controldata.SFMT_LONG" title="Permalink to this definition">¶</a></dt>
<dd><p>lambda function for string formatting <cite>str</cite> types into 50-char widths</p>
</dd></dl>

<dl class="py class">
<dt id="pyemu.pst.pst_controldata.SvdData">
<em class="property">class </em><code class="sig-prename descclassname">pyemu.pst.pst_controldata.</code><code class="sig-name descname">SvdData</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.pst.pst_controldata.SvdData" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>encapsulates the singular value decomposition
section of the PEST control file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>kwargs</strong> (<cite>dict</cite>) – optional keyword arguments</p>
</dd>
</dl>
<dl class="py method">
<dt id="pyemu.pst.pst_controldata.SvdData.parse_values_from_lines">
<code class="sig-name descname">parse_values_from_lines</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">lines</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.pst.pst_controldata.SvdData.parse_values_from_lines" title="Permalink to this definition">¶</a></dt>
<dd><p>parse values from lines of the SVD section of
a PEST control file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>lines</strong> ([<cite>strs</cite>]) – the raw ASCII lines from the control file</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pyemu.pst.pst_controldata.SvdData.write">
<code class="sig-name descname">write</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">f</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.pst.pst_controldata.SvdData.write" title="Permalink to this definition">¶</a></dt>
<dd><p>write an SVD section to a file handle</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>f</strong> (<cite>file handle</cite>) – open file handle for writing</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pyemu.pst.pst_controldata.SvdData.write_keyword">
<code class="sig-name descname">write_keyword</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">f</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.pst.pst_controldata.SvdData.write_keyword" title="Permalink to this definition">¶</a></dt>
<dd><p>write an SVD section to a file handle using
keyword-style format</p>
<blockquote>
<div><dl class="simple">
<dt>Args:</dt><dd><p>f (<cite>file handle</cite>): open file handle for writing</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-pyemu.pst.pst_handler">
<span id="pyemu-pst-pst-handler-module"></span><h2>pyemu.pst.pst_handler module<a class="headerlink" href="#module-pyemu.pst.pst_handler" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="pyemu.pst.pst_handler.Pst">
<em class="property">class </em><code class="sig-prename descclassname">pyemu.pst.pst_handler.</code><code class="sig-name descname">Pst</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span></em>, <em class="sig-param"><span class="n">load</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">resfile</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.pst.pst_handler.Pst" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>All things PEST(++) control file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> (<cite>str</cite>) – the name of the control file</p></li>
<li><p><strong>load</strong> (<cite>bool</cite>, optional) – flag to load the control file. Default is True</p></li>
<li><p><strong>resfile</strong> (<cite>str</cite>, optional) – corresponding residual file.  If <cite>None</cite>, a residual file
with the control file base name is sought.  Default is <cite>None</cite></p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This class is the primary mechanism for dealing with PEST control files.  Support is provided
for constructing new control files as well as manipulating existing control files.</p>
</div>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pst</span> <span class="o">=</span> <span class="n">pyemu</span><span class="o">.</span><span class="n">Pst</span><span class="p">(</span><span class="s2">&quot;my.pst&quot;</span><span class="p">)</span>
<span class="n">pst</span><span class="o">.</span><span class="n">control_data</span><span class="o">.</span><span class="n">noptmax</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
<span class="n">pst</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;my_new.pst&quot;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py method">
<dt id="pyemu.pst.pst_handler.Pst.add_observations">
<code class="sig-name descname">add_observations</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ins_file</span></em>, <em class="sig-param"><span class="n">out_file</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">pst_path</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">inschek</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.pst.pst_handler.Pst.add_observations" title="Permalink to this definition">¶</a></dt>
<dd><p>add new observations to a control file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ins_file</strong> (<cite>str</cite>) – instruction file with exclusively new observation names</p></li>
<li><p><strong>out_file</strong> (<cite>str</cite>) – model output file.  If None, then ins_file.replace(“.ins”,””) is used.
Default is None</p></li>
<li><p><strong>pst_path</strong> (<cite>str</cite>) – the path to append to the instruction file and out file in the control file.  If
not None, then any existing path in front of the template or in file is split off
and pst_path is prepended.  If python is being run in a directory other than where the control
file will reside, it is useful to pass <cite>pst_path</cite> as <cite>.</cite>. Default is None</p></li>
<li><p><strong>inschek</strong> (<cite>bool</cite>) – flag to try to process the existing output file using the <cite>pyemu.InstructionFile</cite>
class.  If successful, processed outputs are used as obsvals</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the data for the new observations that were added</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><cite>pandas.DataFrame</cite></p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>populates the new observation information with default values</p>
</div>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pst</span> <span class="o">=</span> <span class="n">pyemu</span><span class="o">.</span><span class="n">Pst</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;template&quot;</span><span class="p">,</span> <span class="s2">&quot;my.pst&quot;</span><span class="p">))</span>
<span class="n">pst</span><span class="o">.</span><span class="n">add_observations</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;template&quot;</span><span class="p">,</span><span class="s2">&quot;new_obs.dat.ins&quot;</span><span class="p">),</span> <span class="n">pst_path</span><span class="o">=</span><span class="s2">&quot;.&quot;</span><span class="p">)</span>
<span class="n">pst</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;template&quot;</span><span class="p">,</span> <span class="s2">&quot;my_new.pst&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="pyemu.pst.pst_handler.Pst.add_parameters">
<code class="sig-name descname">add_parameters</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">template_file</span></em>, <em class="sig-param"><span class="n">in_file</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">pst_path</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.pst.pst_handler.Pst.add_parameters" title="Permalink to this definition">¶</a></dt>
<dd><p>add new parameters to an existing control file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>template_file</strong> (<cite>str</cite>) – template file with (possibly) some new parameters</p></li>
<li><p><strong>in_file</strong> (<cite>str</cite>) – model input file. If None, template_file.replace(‘.tpl’,’’) is used.
Default is None.</p></li>
<li><p><strong>pst_path</strong> (<cite>str</cite>) – the path to append to the template_file and in_file in the control file.  If
not None, then any existing path in front of the template or in file is split off
and pst_path is prepended.  If python is being run in a directory other than where the control
file will reside, it is useful to pass <cite>pst_path</cite> as <cite>.</cite>.  Default is None</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the data for the new parameters that were added.
If no new parameters are in the new template file, returns None</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><cite>pandas.DataFrame</cite></p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>populates the new parameter information with default values</p>
</div>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pst</span> <span class="o">=</span> <span class="n">pyemu</span><span class="o">.</span><span class="n">Pst</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;template&quot;</span><span class="p">,</span><span class="s2">&quot;my.pst&quot;</span><span class="p">))</span>
<span class="n">pst</span><span class="o">.</span><span class="n">add_parameters</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;template&quot;</span><span class="p">,</span><span class="s2">&quot;new_pars.dat.tpl&quot;</span><span class="p">,</span><span class="n">pst_path</span><span class="o">=</span><span class="s2">&quot;.&quot;</span><span class="p">)</span>
<span class="n">pst</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;template&quot;</span><span class="p">,</span><span class="s2">&quot;my_new.pst&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="pyemu.pst.pst_handler.Pst.add_pi_equation">
<code class="sig-name descname">add_pi_equation</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">par_names</span></em>, <em class="sig-param"><span class="n">pilbl</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">rhs</span><span class="o">=</span><span class="default_value">0.0</span></em>, <em class="sig-param"><span class="n">weight</span><span class="o">=</span><span class="default_value">1.0</span></em>, <em class="sig-param"><span class="n">obs_group</span><span class="o">=</span><span class="default_value">'pi_obgnme'</span></em>, <em class="sig-param"><span class="n">coef_dict</span><span class="o">=</span><span class="default_value">{}</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.pst.pst_handler.Pst.add_pi_equation" title="Permalink to this definition">¶</a></dt>
<dd><p>a helper to construct a new prior information equation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>par_names</strong> ([<cite>str</cite>]) – parameter names in the equation</p></li>
<li><p><strong>pilbl</strong> (<cite>str</cite>) – name to assign the prior information equation.  If None,
a generic equation name is formed. Default is None</p></li>
<li><p><strong>rhs</strong> (<cite>float</cite>) – the right-hand side of the pi equation</p></li>
<li><p><strong>weight</strong> (<cite>float</cite>) – the weight of the equation</p></li>
<li><p><strong>obs_group</strong> (<cite>str</cite>) – the observation group for the equation. Default is ‘pi_obgnme’</p></li>
<li><p><strong>coef_dict</strong> (<cite>dict</cite>) – a dictionary of parameter name, coefficient pairs to assign
leading coefficients for one or more parameters in the equation.
If a parameter is not listed, 1.0 is used for its coefficients.
Default is {}</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pyemu.pst.pst_handler.Pst.add_transform_columns">
<code class="sig-name descname">add_transform_columns</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.pst.pst_handler.Pst.add_transform_columns" title="Permalink to this definition">¶</a></dt>
<dd><p>add transformed values to the <cite>Pst.parameter_data</cite> attribute</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>adds <cite>parval1_trans</cite>, <cite>parlbnd_trans</cite> and <cite>parubnd_trans</cite> to
<cite>Pst.parameter_data</cite></p>
</div>
</dd></dl>

<dl class="py method">
<dt id="pyemu.pst.pst_handler.Pst.adj_par_groups">
<em class="property">property </em><code class="sig-name descname">adj_par_groups</code><a class="headerlink" href="#pyemu.pst.pst_handler.Pst.adj_par_groups" title="Permalink to this definition">¶</a></dt>
<dd><p>get the parameter groups with atleast one adjustable parameter</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a list of parameter groups with
at least one adjustable parameter</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>[<cite>str</cite>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pyemu.pst.pst_handler.Pst.adj_par_names">
<em class="property">property </em><code class="sig-name descname">adj_par_names</code><a class="headerlink" href="#pyemu.pst.pst_handler.Pst.adj_par_names" title="Permalink to this definition">¶</a></dt>
<dd><p>get the adjustable (not fixed or tied) parameter names</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>list of adjustable (not fixed or tied)
parameter names</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>[<cite>str</cite>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pyemu.pst.pst_handler.Pst.adjust_weights">
<code class="sig-name descname">adjust_weights</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">obs_dict</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">obsgrp_dict</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.pst.pst_handler.Pst.adjust_weights" title="Permalink to this definition">¶</a></dt>
<dd><p>reset the weights of observations or observation groups to contribute a specified
amount to the composite objective function</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>obs_dict</strong> (<cite>dict</cite>, optional) – dictionary of observation name,new contribution pairs</p></li>
<li><p><strong>obsgrp_dict</strong> (<cite>dict</cite>, optional) – dictionary of obs group name,contribution pairs</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>if all observations in a named obs group have zero weight, they will all be
assigned a non-zero weight so that the request phi contribution
can be met.  Similarly, any observations listed in obs_dict with zero
weight will also be reset. User beware!</p>
</div>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pst</span> <span class="o">=</span> <span class="n">pyemu</span><span class="o">.</span><span class="n">Pst</span><span class="p">(</span><span class="s2">&quot;my.pst&quot;</span><span class="p">)</span>

<span class="c1"># adjust a single observation</span>
<span class="n">pst</span><span class="o">.</span><span class="n">adjust_weights</span><span class="p">(</span><span class="n">obs_dict</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;obs1&quot;</span><span class="p">:</span><span class="mi">10</span><span class="p">})</span>

<span class="c1"># adjust a single observation group</span>
<span class="n">pst</span><span class="o">.</span><span class="n">adjust_weights</span><span class="p">(</span><span class="n">obsgrp_dict</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;group1&quot;</span><span class="p">:</span><span class="mf">100.0</span><span class="p">})</span>

<span class="c1"># make all non-zero weighted groups have a contribution of 100.0</span>
<span class="n">balanced_groups</span> <span class="o">=</span> <span class="p">{</span><span class="n">grp</span><span class="p">:</span><span class="mi">100</span> <span class="k">for</span> <span class="n">grp</span> <span class="ow">in</span> <span class="n">pst</span><span class="o">.</span><span class="n">nnz_obs_groups</span><span class="p">}</span>
<span class="n">pst</span><span class="o">.</span><span class="n">adjust_weights</span><span class="p">(</span><span class="n">obsgrp_dict</span><span class="o">=</span><span class="n">balanced_groups</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="pyemu.pst.pst_handler.Pst.adjust_weights_discrepancy">
<code class="sig-name descname">adjust_weights_discrepancy</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">resfile</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">original_ceiling</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">bygroups</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.pst.pst_handler.Pst.adjust_weights_discrepancy" title="Permalink to this definition">¶</a></dt>
<dd><p>adjusts the weights of each non-zero weight observation based
on the residual in the pest residual file so each observations contribution
to phi is 1.0 (e.g. Mozorov’s discrepancy principal)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>resfile</strong> (<cite>str</cite>) – residual file name.  If None, try to use a residual file
with the Pst case name.  Default is None</p></li>
<li><p><strong>original_ceiling</strong> (<cite>bool</cite>) – flag to keep weights from increasing - this is
generally a good idea. Default is True</p></li>
<li><p><strong>bygroups</strong> (<cite>bool</cite>) – flag to adjust weights by groups. If False, the weight
of each non-zero weighted observation is adjusted individually. If True,
intergroup weighting is preserved (the contribution to each group is used)
but this may result in some strangeness if some observations in a group have
a really low phi already.</p></li>
</ul>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pst</span> <span class="o">=</span> <span class="n">pyemu</span><span class="o">.</span><span class="n">Pst</span><span class="p">(</span><span class="s2">&quot;my.pst&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">pst</span><span class="o">.</span><span class="n">phi</span><span class="p">)</span> <span class="c1">#assumes &quot;my.res&quot; is colocated with &quot;my.pst&quot;</span>
<span class="n">pst</span><span class="o">.</span><span class="n">adjust_weights_discrepancy</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">pst</span><span class="o">.</span><span class="n">phi</span><span class="p">)</span> <span class="c1"># phi should equal number of non-zero observations</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="pyemu.pst.pst_handler.Pst.bounds_report">
<code class="sig-name descname">bounds_report</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">iterations</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.pst.pst_handler.Pst.bounds_report" title="Permalink to this definition">¶</a></dt>
<dd><p>report how many parameters are at bounds. If ensemble, the base enbsemble member is evaluated</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>iterations</strong> ([<cite>int</cite>]) – a list of iterations for which a bounds report is requested
If None, all iterations for which <cite>par</cite> files are located are reported. Default
is None</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>a pandas DataFrame object with rows being parameter groups and columns</dt><dd><p>&lt;iter&gt;_num_at_ub, &lt;iter&gt;_num_at_lb, and &lt;iter&gt;_total_at_bounds
row 0 is total at bounds, subsequent rows correspond with groups</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><cite>df</cite></p>
</dd>
</dl>
<p class="rubric">Example</p>
<p>pst = pyemu.Pst(“my.pst”)
df = pst.bound_report(iterations=[0,2,3])</p>
</dd></dl>

<dl class="py method">
<dt id="pyemu.pst.pst_handler.Pst.build_increments">
<code class="sig-name descname">build_increments</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.pst.pst_handler.Pst.build_increments" title="Permalink to this definition">¶</a></dt>
<dd><p>experimental method to calculate parameter increments for use
in the finite difference pertubation calculations</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>user beware!</p>
</div>
</dd></dl>

<dl class="py method">
<dt id="pyemu.pst.pst_handler.Pst.calculate_pertubations">
<code class="sig-name descname">calculate_pertubations</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.pst.pst_handler.Pst.calculate_pertubations" title="Permalink to this definition">¶</a></dt>
<dd><p>experimental method to calculate finite difference parameter
pertubations.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The pertubation values are added to the
<cite>Pst.parameter_data</cite> attribute - user beware!</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt id="pyemu.pst.pst_handler.Pst.control_data">
<code class="sig-name descname">control_data</code><a class="headerlink" href="#pyemu.pst.pst_handler.Pst.control_data" title="Permalink to this definition">¶</a></dt>
<dd><p>‘* control data’ information.
Access with standard PEST variable names</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pst</span><span class="o">.</span><span class="n">control_data</span><span class="o">.</span><span class="n">noptmax</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">pst</span><span class="o">.</span><span class="n">control_data</span><span class="o">.</span><span class="n">pestmode</span> <span class="o">=</span> <span class="s2">&quot;estimation&quot;</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#pyemu.pst.pst_controldata.ControlData" title="pyemu.pst.pst_controldata.ControlData">pyemu.pst.pst_controldata.ControlData</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pyemu.pst.pst_handler.Pst.enforce_bounds">
<code class="sig-name descname">enforce_bounds</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.pst.pst_handler.Pst.enforce_bounds" title="Permalink to this definition">¶</a></dt>
<dd><p>enforce bounds violation</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>cheap enforcement of simply bringing violators back in bounds</p>
</div>
</dd></dl>

<dl class="py method">
<dt id="pyemu.pst.pst_handler.Pst.estimation">
<em class="property">property </em><code class="sig-name descname">estimation</code><a class="headerlink" href="#pyemu.pst.pst_handler.Pst.estimation" title="Permalink to this definition">¶</a></dt>
<dd><p>check if the control_data.pestmode is set to estimation</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>True if <cite>control_data.pestmode</cite> is estmation, False otherwise</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><cite>bool</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pyemu.pst.pst_handler.Pst.forecast_names">
<em class="property">property </em><code class="sig-name descname">forecast_names</code><a class="headerlink" href="#pyemu.pst.pst_handler.Pst.forecast_names" title="Permalink to this definition">¶</a></dt>
<dd><p>get the forecast names from the pestpp options (if any).
Returns None if no forecasts are named</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a list of forecast names.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>[<cite>str</cite>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pyemu.pst.pst_handler.Pst.from_io_files">
<em class="property">classmethod </em><code class="sig-name descname">from_io_files</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tpl_files</span></em>, <em class="sig-param"><span class="n">in_files</span></em>, <em class="sig-param"><span class="n">ins_files</span></em>, <em class="sig-param"><span class="n">out_files</span></em>, <em class="sig-param"><span class="n">pst_filename</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">pst_path</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.pst.pst_handler.Pst.from_io_files" title="Permalink to this definition">¶</a></dt>
<dd><p>create a Pst instance from model interface files.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tpl_files</strong> ([<cite>str</cite>]) – list of template file names</p></li>
<li><p><strong>in_files</strong> ([<cite>str</cite>]) – list of model input file names (pairs with template files)</p></li>
<li><p><strong>ins_files</strong> ([<cite>str</cite>]) – list of instruction file names</p></li>
<li><p><strong>out_files</strong> ([<cite>str</cite>]) – list of model output file names (pairs with instruction files)</p></li>
<li><p><strong>pst_filename</strong> (<cite>str</cite>) – name of control file to write.  If None, no file is written.
Default is None</p></li>
<li><p><strong>pst_path</strong> (<em>'str'</em>) – the path from the control file to the IO files.  For example, if the
control will be in the same directory as the IO files, then <cite>pst_path</cite> should be ‘.’.
Default is None, which doesnt do any path manipulation on the I/O file names</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>new control file instance with parameter and observation names
found in <cite>tpl_files</cite> and <cite>ins_files</cite>, repsectively.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><cite>Pst</cite></p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>calls <cite>pyemu.helpers.pst_from_io_files()</cite></p>
<p>Assigns generic values for parameter info.  Tries to use INSCHEK
to set somewhat meaningful observation values</p>
<p>all file paths are relatively to where python is running.</p>
</div>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">tpl_files</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;my.tpl&quot;</span><span class="p">]</span>
<span class="n">in_files</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;my.in&quot;</span><span class="p">]</span>
<span class="n">ins_files</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;my.ins&quot;</span><span class="p">]</span>
<span class="n">out_files</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;my.out&quot;</span><span class="p">]</span>
<span class="n">pst</span> <span class="o">=</span> <span class="n">pyemu</span><span class="o">.</span><span class="n">Pst</span><span class="o">.</span><span class="n">from_io_files</span><span class="p">(</span><span class="n">tpl_files</span><span class="p">,</span><span class="n">in_files</span><span class="p">,</span><span class="n">ins_files</span><span class="p">,</span><span class="n">out_files</span><span class="p">)</span>
<span class="n">pst</span><span class="o">.</span><span class="n">control_data</span><span class="o">.</span><span class="n">noptmax</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">pst</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;my.pst)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="pyemu.pst.pst_handler.Pst.from_par_obs_names">
<em class="property">classmethod </em><code class="sig-name descname">from_par_obs_names</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">par_names</span><span class="o">=</span><span class="default_value">['par1']</span></em>, <em class="sig-param"><span class="n">obs_names</span><span class="o">=</span><span class="default_value">['obs1']</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.pst.pst_handler.Pst.from_par_obs_names" title="Permalink to this definition">¶</a></dt>
<dd><p>construct a shell <cite>Pst</cite> instance from parameter and observation names</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>par_names</strong> ([<cite>str</cite>]) – list of parameter names.  Default is [<cite>par1</cite>]</p></li>
<li><p><strong>obs_names</strong> ([<cite>str</cite>]) – list of observation names.  Default is [<cite>obs1</cite>]</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>While this method works, it does not make template or instruction files.
Users are encouraged to use <cite>Pst.from_io_files()</cite> for more usefulness</p>
</div>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">par_names</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;par1&quot;</span><span class="p">,</span><span class="s2">&quot;par2&quot;</span><span class="p">]</span>
<span class="n">obs_names</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;obs1&quot;</span><span class="p">,</span><span class="s2">&quot;obs2&quot;</span><span class="p">]</span>
<span class="n">pst</span> <span class="o">=</span> <span class="n">pyemu</span><span class="o">.</span><span class="n">Pst</span><span class="o">.</span><span class="n">from_par_obs_names</span><span class="p">(</span><span class="n">par_names</span><span class="p">,</span><span class="n">obs_names</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="pyemu.pst.pst_handler.Pst.get">
<code class="sig-name descname">get</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">par_names</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">obs_names</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.pst.pst_handler.Pst.get" title="Permalink to this definition">¶</a></dt>
<dd><p>get a new pst object with subset of parameters and/or observations</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>par_names</strong> ([<cite>str</cite>]) – a list of parameter names to have in the new Pst instance.
If None, all parameters are in the new Pst instance. Default
is None</p></li>
<li><p><strong>obs_names</strong> ([<cite>str</cite>]) – a list of observation names to have in the new Pst instance.
If None, all observations are in teh new Pst instance. Default
is None</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a new Pst instance</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><cite>Pst</cite></p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>passing <cite>par_names</cite> as <cite>None</cite> and <cite>obs_names</cite> as <cite>None</cite> effectively
generates a copy of the current <cite>Pst</cite></p>
</div>
</dd></dl>

<dl class="py method">
<dt id="pyemu.pst.pst_handler.Pst.get_adj_pars_at_bounds">
<code class="sig-name descname">get_adj_pars_at_bounds</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">frac_tol</span><span class="o">=</span><span class="default_value">0.01</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.pst.pst_handler.Pst.get_adj_pars_at_bounds" title="Permalink to this definition">¶</a></dt>
<dd><p>get list of adjustable parameter at/near bounds</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>frac_tol</strong> (<em>'float`</em>) – fractional tolerance of distance to bound.  For upper bound,
the value <cite>parubnd * (1-frac_tol)</cite> is used, lower bound uses <cite>parlbnd * (1.0 + frac_tol)</cite></p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>[`str`]</strong>: list of parameters at/near lower bound</p></li>
<li><p><strong>[`str`]</strong>: list of parameters at/near upper bound</p></li>
</ul>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>tuple containing</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pyemu.pst.pst_handler.Pst.get_par_change_limits">
<code class="sig-name descname">get_par_change_limits</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.pst.pst_handler.Pst.get_par_change_limits" title="Permalink to this definition">¶</a></dt>
<dd><p>calculate the various parameter change limits used in pest.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a copy of <cite>Pst.parameter_data</cite>
with columns for relative and factor change limits</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><cite>pandas.DataFrame</cite></p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>does not yet support absolute parameter change limits!</p>
<p>Works in control file values space (not log transformed space).  Also
adds columns for effective upper and lower which account for par bounds and the
value of parchglim</p>
</div>
</dd></dl>

<dl class="py method">
<dt id="pyemu.pst.pst_handler.Pst.get_res_stats">
<code class="sig-name descname">get_res_stats</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">nonzero</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.pst.pst_handler.Pst.get_res_stats" title="Permalink to this definition">¶</a></dt>
<dd><p>get some common residual stats by observation group.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>nonzero</strong> (<cite>bool</cite>) – calculate stats using only nonzero-weighted observations.  This may seem
obsvious to most users, but you never know….</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a dataframe with columns for groups names and indices of statistic name.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><cite>pd.DataFrame</cite></p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Stats are derived from the current obsvals, weights and grouping in
<cite>Pst.observation_data</cite> and the <cite>modelled</cite> values in <cite>Pst.res</cite>.  The
key here is ‘current’ because if obsval, weights and/or groupings have
changed in <cite>Pst.observation_data</cite> since the residuals file was generated
then the current values for <cite>obsval</cite>, <cite>weight</cite> and <cite>group</cite> are used</p>
<p>the normalized RMSE is normalized against the obsval range (max - min)</p>
</div>
</dd></dl>

<dl class="py method">
<dt id="pyemu.pst.pst_handler.Pst.greater_than_obs_constraints">
<em class="property">property </em><code class="sig-name descname">greater_than_obs_constraints</code><a class="headerlink" href="#pyemu.pst.pst_handler.Pst.greater_than_obs_constraints" title="Permalink to this definition">¶</a></dt>
<dd><p>get the names of the observations that
are listed as active greater than inequality constraints.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>names obseravtions that are non-zero weighted
greater than constraints (<cite>obgnme</cite> startsiwth “g_” or “greater”)</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><cite>pandas.Series</cite></p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Zero-weighted obs are skipped</p>
</div>
</dd></dl>

<dl class="py method">
<dt id="pyemu.pst.pst_handler.Pst.greater_than_pi_constraints">
<em class="property">property </em><code class="sig-name descname">greater_than_pi_constraints</code><a class="headerlink" href="#pyemu.pst.pst_handler.Pst.greater_than_pi_constraints" title="Permalink to this definition">¶</a></dt>
<dd><p>get the names of the prior information eqs that
are listed as active greater than inequality constraints.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><cite>pandas.Series</cite> names of prior information that are non-zero weighted
greater than constraints (<cite>obgnme</cite> startsiwth “g_” or “greater”)</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Zero-weighted pi are skipped</p>
</div>
</dd></dl>

<dl class="py method">
<dt id="pyemu.pst.pst_handler.Pst.less_than_obs_constraints">
<em class="property">property </em><code class="sig-name descname">less_than_obs_constraints</code><a class="headerlink" href="#pyemu.pst.pst_handler.Pst.less_than_obs_constraints" title="Permalink to this definition">¶</a></dt>
<dd><p>get the names of the observations that
are listed as active less than inequality constraints.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>names of obseravtions that are non-zero weighted less
than constraints (<cite>obgnme</cite> starts with ‘l_’ or “less”)</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><cite>pandas.Series</cite></p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Zero-weighted obs are skipped</p>
</div>
</dd></dl>

<dl class="py method">
<dt id="pyemu.pst.pst_handler.Pst.less_than_pi_constraints">
<em class="property">property </em><code class="sig-name descname">less_than_pi_constraints</code><a class="headerlink" href="#pyemu.pst.pst_handler.Pst.less_than_pi_constraints" title="Permalink to this definition">¶</a></dt>
<dd><p>get the names of the prior information eqs that
are listed as active less than inequality constraints.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>names of prior information that are non-zero weighted
less than constraints (<cite>obgnme</cite> starts with “l_” or “less”)</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><cite>pandas.Series</cite></p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Zero-weighted pi are skipped</p>
</div>
</dd></dl>

<dl class="py method">
<dt id="pyemu.pst.pst_handler.Pst.load">
<code class="sig-name descname">load</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.pst.pst_handler.Pst.load" title="Permalink to this definition">¶</a></dt>
<dd><p>entry point load the pest control file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filename</strong> (<cite>str</cite>) – pst filename</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method is called from the <cite>Pst</cite> construtor unless the <cite>load</cite> arg is <cite>False</cite>.</p>
</div>
</dd></dl>

<dl class="py method">
<dt id="pyemu.pst.pst_handler.Pst.nnz_obs">
<em class="property">property </em><code class="sig-name descname">nnz_obs</code><a class="headerlink" href="#pyemu.pst.pst_handler.Pst.nnz_obs" title="Permalink to this definition">¶</a></dt>
<dd><p>get the number of non-zero weighted observations</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the number of non-zeros weighted observations</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><cite>int</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pyemu.pst.pst_handler.Pst.nnz_obs_groups">
<em class="property">property </em><code class="sig-name descname">nnz_obs_groups</code><a class="headerlink" href="#pyemu.pst.pst_handler.Pst.nnz_obs_groups" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>get the observation groups that contain at least one non-zero weighted</dt><dd><p>observation</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a list of observation groups that contain at
least one non-zero weighted observation</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>[<cite>str</cite>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pyemu.pst.pst_handler.Pst.nnz_obs_names">
<em class="property">property </em><code class="sig-name descname">nnz_obs_names</code><a class="headerlink" href="#pyemu.pst.pst_handler.Pst.nnz_obs_names" title="Permalink to this definition">¶</a></dt>
<dd><p>get the non-zero weight observation names</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a list of non-zero weighted observation names</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>[<cite>str</cite>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pyemu.pst.pst_handler.Pst.nobs">
<em class="property">property </em><code class="sig-name descname">nobs</code><a class="headerlink" href="#pyemu.pst.pst_handler.Pst.nobs" title="Permalink to this definition">¶</a></dt>
<dd><p>get the number of observations</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the number of observations</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><cite>int</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pyemu.pst.pst_handler.Pst.npar">
<em class="property">property </em><code class="sig-name descname">npar</code><a class="headerlink" href="#pyemu.pst.pst_handler.Pst.npar" title="Permalink to this definition">¶</a></dt>
<dd><p>get number of parameters</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the number of parameters</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><cite>int</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pyemu.pst.pst_handler.Pst.npar_adj">
<em class="property">property </em><code class="sig-name descname">npar_adj</code><a class="headerlink" href="#pyemu.pst.pst_handler.Pst.npar_adj" title="Permalink to this definition">¶</a></dt>
<dd><p>get the number of adjustable parameters (not fixed or tied)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the number of adjustable parameters</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><cite>int</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pyemu.pst.pst_handler.Pst.nprior">
<em class="property">property </em><code class="sig-name descname">nprior</code><a class="headerlink" href="#pyemu.pst.pst_handler.Pst.nprior" title="Permalink to this definition">¶</a></dt>
<dd><p>number of prior information equations</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the number of prior info equations</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><cite>int</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pyemu.pst.pst_handler.Pst.obs_groups">
<em class="property">property </em><code class="sig-name descname">obs_groups</code><a class="headerlink" href="#pyemu.pst.pst_handler.Pst.obs_groups" title="Permalink to this definition">¶</a></dt>
<dd><p>get the observation groups</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a list of unique observation groups</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>[<cite>str</cite>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pyemu.pst.pst_handler.Pst.obs_names">
<em class="property">property </em><code class="sig-name descname">obs_names</code><a class="headerlink" href="#pyemu.pst.pst_handler.Pst.obs_names" title="Permalink to this definition">¶</a></dt>
<dd><p>get the observation names</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a list of observation names</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>[<cite>str</cite>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="pyemu.pst.pst_handler.Pst.observation_data">
<code class="sig-name descname">observation_data</code><a class="headerlink" href="#pyemu.pst.pst_handler.Pst.observation_data" title="Permalink to this definition">¶</a></dt>
<dd><p>‘* observation data’ information.  Columns are standard PEST
variable names</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pst</span><span class="o">.</span><span class="n">observation_data</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s2">&quot;weight&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">1.0</span>
<span class="n">pst</span><span class="o">.</span><span class="n">observation_data</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s2">&quot;obgnme&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;obs_group&quot;</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pyemu.pst.pst_handler.Pst.par_groups">
<em class="property">property </em><code class="sig-name descname">par_groups</code><a class="headerlink" href="#pyemu.pst.pst_handler.Pst.par_groups" title="Permalink to this definition">¶</a></dt>
<dd><p>get the parameter groups</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a list of parameter groups</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>[<cite>str</cite>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pyemu.pst.pst_handler.Pst.par_names">
<em class="property">property </em><code class="sig-name descname">par_names</code><a class="headerlink" href="#pyemu.pst.pst_handler.Pst.par_names" title="Permalink to this definition">¶</a></dt>
<dd><p>get the parameter names</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a list of parameter names</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>[<cite>str</cite>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="pyemu.pst.pst_handler.Pst.parameter_data">
<code class="sig-name descname">parameter_data</code><a class="headerlink" href="#pyemu.pst.pst_handler.Pst.parameter_data" title="Permalink to this definition">¶</a></dt>
<dd><p>‘* parameter data’ information.  Columns are
standard PEST variable names</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pst</span><span class="o">.</span><span class="n">parameter_data</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s2">&quot;partrans&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;log&quot;</span>
<span class="n">pst</span><span class="o">.</span><span class="n">parameter_data</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s2">&quot;parubnd&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">10.0</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pyemu.pst.pst_handler.Pst.parrep">
<code class="sig-name descname">parrep</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">parfile</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">enforce_bounds</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.pst.pst_handler.Pst.parrep" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>replicates the pest parrep util. replaces the parval1 field in the</dt><dd><p>parameter data section dataframe with values in a PEST parameter file</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>parfile</strong> (<cite>str</cite>, optional) – parameter file to use.  If None, try to find and use
a parameter file that corresponds to the case name.
Default is None</p></li>
<li><p><strong>enforce_bounds</strong> (<cite>bool</cite>, optional) – flag to enforce parameter bounds after parameter values are updated.
This is useful because PEST and PEST++ round the parameter values in the
par file, which may cause slight bound violations.  Default is <cite>True</cite></p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pyemu.pst.pst_handler.Pst.phi">
<em class="property">property </em><code class="sig-name descname">phi</code><a class="headerlink" href="#pyemu.pst.pst_handler.Pst.phi" title="Permalink to this definition">¶</a></dt>
<dd><p>get the weighted total objective function.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>sum of squared residuals</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><cite>float</cite></p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Requires <cite>Pst.res</cite> (the residuals file) to be available</p>
</div>
</dd></dl>

<dl class="py method">
<dt id="pyemu.pst.pst_handler.Pst.phi_components">
<em class="property">property </em><code class="sig-name descname">phi_components</code><a class="headerlink" href="#pyemu.pst.pst_handler.Pst.phi_components" title="Permalink to this definition">¶</a></dt>
<dd><p>get the individual components of the total objective function</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>dictionary of observation group, contribution to total phi</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><cite>dict</cite></p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Requires <cite>Pst.res</cite> (the residuals file) to be available</p>
</div>
</dd></dl>

<dl class="py method">
<dt id="pyemu.pst.pst_handler.Pst.phi_components_normalized">
<em class="property">property </em><code class="sig-name descname">phi_components_normalized</code><a class="headerlink" href="#pyemu.pst.pst_handler.Pst.phi_components_normalized" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>get the individual components of the total objective function</dt><dd><p>normalized to the total PHI being 1.0</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>dictionary of observation group,
normalized contribution to total phi</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><cite>dict</cite></p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Requires <cite>Pst.res</cite> (the residuals file) to be available</p>
</div>
</dd></dl>

<dl class="py method">
<dt id="pyemu.pst.pst_handler.Pst.plot">
<code class="sig-name descname">plot</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">kind</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.pst.pst_handler.Pst.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>method to plot various parts of the control.  This is sweet as!</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>kind</strong> (<cite>str</cite>) – options are ‘prior’ (prior parameter histograms, ‘1to1’ (line of equality
and sim vs res), ‘obs_v_sim’ (time series using datetime suffix), ‘phi_pie’
(pie chart of phi components)</p></li>
<li><p><strong>kwargs</strong> (<cite>dict</cite>) – optional args for plots that are passed to pyemu plot helpers and ultimately
to matplotlib</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Depending on ‘kind’ argument, a multipage pdf is written</p>
</div>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pst</span> <span class="o">=</span> <span class="n">pyemu</span><span class="o">.</span><span class="n">Pst</span><span class="p">(</span><span class="s2">&quot;my.pst&quot;</span><span class="p">)</span>
<span class="n">pst</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s2">&quot;1to1&quot;</span><span class="p">)</span> <span class="c1"># requires Pst.res</span>
<span class="n">pst</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s2">&quot;prior&quot;</span><span class="p">)</span>
<span class="n">pst</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s2">&quot;phi_pie&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="pyemu.pst.pst_handler.Pst.prior_groups">
<em class="property">property </em><code class="sig-name descname">prior_groups</code><a class="headerlink" href="#pyemu.pst.pst_handler.Pst.prior_groups" title="Permalink to this definition">¶</a></dt>
<dd><p>get the prior info groups</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a list of prior information groups</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>[<cite>str</cite>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="pyemu.pst.pst_handler.Pst.prior_information">
<code class="sig-name descname">prior_information</code><a class="headerlink" href="#pyemu.pst.pst_handler.Pst.prior_information" title="Permalink to this definition">¶</a></dt>
<dd><p>‘* prior information’ data.  Columns are standard PEST
variable names</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pyemu.pst.pst_handler.Pst.prior_names">
<em class="property">property </em><code class="sig-name descname">prior_names</code><a class="headerlink" href="#pyemu.pst.pst_handler.Pst.prior_names" title="Permalink to this definition">¶</a></dt>
<dd><p>get the prior information names</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a list of prior information names</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>[<cite>str</cite>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pyemu.pst.pst_handler.Pst.process_output_files">
<code class="sig-name descname">process_output_files</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pst_path</span><span class="o">=</span><span class="default_value">'.'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.pst.pst_handler.Pst.process_output_files" title="Permalink to this definition">¶</a></dt>
<dd><p>processing the model output files using the instruction files
and existing model output files.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>pst_path</strong> (<cite>str</cite>) – relative path from where python is running to
where the control file, instruction files and model output files
are located.  Default is “.” (current python directory)</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>model output values</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><cite>pandas.Series</cite></p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>requires a complete set of model input files at relative path
from where python is running to <cite>pst_path</cite></p>
</div>
</dd></dl>

<dl class="py method">
<dt id="pyemu.pst.pst_handler.Pst.proportional_weights">
<code class="sig-name descname">proportional_weights</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fraction_stdev</span><span class="o">=</span><span class="default_value">1.0</span></em>, <em class="sig-param"><span class="n">wmax</span><span class="o">=</span><span class="default_value">100.0</span></em>, <em class="sig-param"><span class="n">leave_zero</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.pst.pst_handler.Pst.proportional_weights" title="Permalink to this definition">¶</a></dt>
<dd><p>setup  weights inversely proportional to the observation value</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fraction_stdev</strong> (<cite>float</cite>, optional) – the fraction portion of the observation
val to treat as the standard deviation.  set to 1.0 for
inversely proportional.  Default is 1.0</p></li>
<li><p><strong>wmax</strong> (<cite>float</cite>, optional) – maximum weight to allow.  Default is 100.0</p></li>
<li><p><strong>leave_zero</strong> (<cite>bool</cite>, optional) – flag to leave existing zero weights.
Default is True</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pyemu.pst.pst_handler.Pst.rectify_pgroups">
<code class="sig-name descname">rectify_pgroups</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.pst.pst_handler.Pst.rectify_pgroups" title="Permalink to this definition">¶</a></dt>
<dd><p>synchronize parameter groups section with the parameter data section</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This method is called during <cite>Pst.write()</cite> to make sure all parameter
groups named in <cite>* parameter data</cite> are included.  This is so users
don’t have to manually keep this section up.  This method can also be
called during control file modifications to see what parameter groups
are present and prepare for modifying the default values in the <cite>* parameter
group</cite> section</p>
</div>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pst</span> <span class="o">=</span> <span class="n">pyemu</span><span class="o">.</span><span class="n">Pst</span><span class="p">(</span><span class="s2">&quot;my.pst&quot;</span><span class="p">)</span>
<span class="n">pst</span><span class="o">.</span><span class="n">parameter_data</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s2">&quot;par1&quot;</span><span class="p">,</span><span class="s2">&quot;pargp&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;new_group&quot;</span>
<span class="n">pst</span><span class="o">.</span><span class="n">rectify_groups</span><span class="p">()</span>
<span class="n">pst</span><span class="o">.</span><span class="n">parameter_groups</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s2">&quot;new_group&quot;</span><span class="p">,</span><span class="s2">&quot;derinc&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="mf">1.0</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="pyemu.pst.pst_handler.Pst.rectify_pi">
<code class="sig-name descname">rectify_pi</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.pst.pst_handler.Pst.rectify_pi" title="Permalink to this definition">¶</a></dt>
<dd><p>rectify the prior information equation with the current state of the
parameter_data dataframe.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Equations that list fixed, tied or missing parameters
are removed completely even if adjustable parameters are also
listed in the equation. This method is called during Pst.write()</p>
</div>
</dd></dl>

<dl class="py attribute">
<dt id="pyemu.pst.pst_handler.Pst.reg_data">
<code class="sig-name descname">reg_data</code><a class="headerlink" href="#pyemu.pst.pst_handler.Pst.reg_data" title="Permalink to this definition">¶</a></dt>
<dd><p>‘* regularization’ section information.
Access with standard PEST variable names.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pst</span><span class="o">.</span><span class="n">reg_data</span><span class="o">.</span><span class="n">phimlim</span> <span class="o">=</span> <span class="mf">1.00</span> <span class="c1">#yeah right!</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#pyemu.pst.pst_controldata.RegData" title="pyemu.pst.pst_controldata.RegData">pyemu.pst.pst_controldata.RegData</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pyemu.pst.pst_handler.Pst.res">
<em class="property">property </em><code class="sig-name descname">res</code><a class="headerlink" href="#pyemu.pst.pst_handler.Pst.res" title="Permalink to this definition">¶</a></dt>
<dd><p>get the residuals dataframe attribute</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a dataframe containing the
residuals information.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><cite>pandas.DataFrame</cite></p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<dl class="simple">
<dt>if the Pst.__res attribute has not been loaded,</dt><dd><p>this call loads the res dataframe from a file</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py method">
<dt id="pyemu.pst.pst_handler.Pst.sanity_checks">
<code class="sig-name descname">sanity_checks</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.pst.pst_handler.Pst.sanity_checks" title="Permalink to this definition">¶</a></dt>
<dd><p>some basic check for strangeness</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>checks for duplicate names, atleast 1 adjustable parameter
and at least 1 non-zero-weighted observation</p>
</div>
</dd></dl>

<dl class="py method">
<dt id="pyemu.pst.pst_handler.Pst.set_res">
<code class="sig-name descname">set_res</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">res</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.pst.pst_handler.Pst.set_res" title="Permalink to this definition">¶</a></dt>
<dd><p>reset the private <cite>Pst.res</cite> attribute.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>res</strong> – (<cite>pandas.DataFrame</cite> or <cite>str</cite>): something to use as Pst.res attribute.
If <cite>res</cite> is <cite>str</cite>, a dataframe is read from file <cite>res</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="pyemu.pst.pst_handler.Pst.svd_data">
<code class="sig-name descname">svd_data</code><a class="headerlink" href="#pyemu.pst.pst_handler.Pst.svd_data" title="Permalink to this definition">¶</a></dt>
<dd><p>‘* singular value decomposition’ section information.
Access with standard PEST variable names</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pst</span><span class="o">.</span><span class="n">svd_data</span><span class="o">.</span><span class="n">maxsing</span> <span class="o">=</span> <span class="mi">100</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#pyemu.pst.pst_controldata.SvdData" title="pyemu.pst.pst_controldata.SvdData">pyemu.pst.pst_controldata.SvdData</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pyemu.pst.pst_handler.Pst.tied">
<em class="property">property </em><code class="sig-name descname">tied</code><a class="headerlink" href="#pyemu.pst.pst_handler.Pst.tied" title="Permalink to this definition">¶</a></dt>
<dd><p>list of tied parameter names</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a dataframe of tied parameter information.
Columns of <cite>tied</cite> are <cite>parnme</cite> and <cite>partied</cite>.  Returns <cite>None</cite> if
no tied parameters are found.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><cite>pandas.DataFrame</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pyemu.pst.pst_handler.Pst.try_parse_name_metadata">
<code class="sig-name descname">try_parse_name_metadata</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.pst.pst_handler.Pst.try_parse_name_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>try to add meta data columns to parameter and observation data based on
item names.  Used with the PstFrom process.</p>
<dl class="simple">
<dt>Note: metadata is identified in key-value pairs that are separated by a colon.</dt><dd><p>each key-value pair is separated from others by underscore</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pyemu.pst.pst_handler.Pst.write">
<code class="sig-name descname">write</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">new_filename</span></em>, <em class="sig-param"><span class="n">version</span><span class="o">=</span><span class="default_value">1</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.pst.pst_handler.Pst.write" title="Permalink to this definition">¶</a></dt>
<dd><p>main entry point to write a pest control file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>new_filename</strong> (<cite>str</cite>) – name of the new pest control file</p></li>
<li><p><strong>version</strong> (<cite>int</cite>) – flag for which version of control file to write (must be 1 or 2).
if None, uses Pst._version, which set in the constructor and modified
during the load</p></li>
</ul>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pst</span> <span class="o">=</span> <span class="n">pyemu</span><span class="o">.</span><span class="n">Pst</span><span class="p">(</span><span class="s2">&quot;my.pst&quot;</span><span class="p">)</span>
<span class="n">pst</span><span class="o">.</span><span class="n">parrep</span><span class="p">(</span><span class="s2">&quot;my.par&quot;</span><span class="p">)</span>
<span class="n">pst</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">my_new</span><span class="o">.</span><span class="n">pst</span><span class="s2">&quot;)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="pyemu.pst.pst_handler.Pst.write_input_files">
<code class="sig-name descname">write_input_files</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pst_path</span><span class="o">=</span><span class="default_value">'.'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.pst.pst_handler.Pst.write_input_files" title="Permalink to this definition">¶</a></dt>
<dd><p>writes model input files using template files and current <cite>parval1</cite> values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>pst_path</strong> (<cite>str</cite>) – the path to where control file and template files reside.
Default is ‘.’</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>adds “parval1_trans” column to Pst.parameter_data that includes the
effect of scale and offset</p>
</div>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pst</span> <span class="o">=</span> <span class="n">pyemu</span><span class="o">.</span><span class="n">Pst</span><span class="p">(</span><span class="s2">&quot;my.pst&quot;</span><span class="p">)</span>

<span class="c1"># load final parameter values</span>
<span class="n">pst</span><span class="o">.</span><span class="n">parrep</span><span class="p">(</span><span class="s2">&quot;my.par&quot;</span><span class="p">)</span>

<span class="c1"># write new model input files with final parameter values</span>
<span class="n">pst</span><span class="o">.</span><span class="n">write_input_files</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="pyemu.pst.pst_handler.Pst.write_obs_summary_table">
<code class="sig-name descname">write_obs_summary_table</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">group_names</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.pst.pst_handler.Pst.write_obs_summary_table" title="Permalink to this definition">¶</a></dt>
<dd><p>write a stand alone observation summary latex table</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> (<cite>str</cite>) – latex filename. If <cite>filename</cite> is “none”, no table is written.
If None, use &lt;case&gt;.par.tex. Default is None</p></li>
<li><p><strong>group_names</strong> (<cite>dict</cite>) – obs group names : table names. For example {“hds”:”simulated groundwater level”}.
Default is None</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the summary observation group dataframe</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><cite>pandas.DataFrame</cite></p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pst</span> <span class="o">=</span> <span class="n">pyemu</span><span class="o">.</span><span class="n">Pst</span><span class="p">(</span><span class="s2">&quot;my.pst&quot;</span><span class="p">)</span>
<span class="n">pst</span><span class="o">.</span><span class="n">write_obs_summary_table</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="s2">&quot;obs.tex&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="pyemu.pst.pst_handler.Pst.write_par_summary_table">
<code class="sig-name descname">write_par_summary_table</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">filename</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">group_names</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">sigma_range</span><span class="o">=</span><span class="default_value">4.0</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.pst.pst_handler.Pst.write_par_summary_table" title="Permalink to this definition">¶</a></dt>
<dd><p>write a stand alone parameter summary latex table</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> (<cite>str</cite>) – latex filename. If None, use &lt;case&gt;.par.tex. If <cite>filename</cite> is “none”, no table
is writtenDefault is None</p></li>
<li><p><strong>group_names</strong> (<cite>dict</cite>) – par group names : table names. For example {“w0”:”well stress period 1”}.
Default is None</p></li>
<li><p><strong>sigma_range</strong> (<cite>float</cite>) – number of standard deviations represented by parameter bounds.  Default
is 4.0, implying 95% confidence bounds</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the summary parameter group dataframe</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><cite>pandas.DataFrame</cite></p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pst</span> <span class="o">=</span> <span class="n">pyemu</span><span class="o">.</span><span class="n">Pst</span><span class="p">(</span><span class="s2">&quot;my.pst&quot;</span><span class="p">)</span>
<span class="n">pst</span><span class="o">.</span><span class="n">write_par_summary_table</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="s2">&quot;par.tex&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="pyemu.pst.pst_handler.Pst.zero_weight_obs_names">
<em class="property">property </em><code class="sig-name descname">zero_weight_obs_names</code><a class="headerlink" href="#pyemu.pst.pst_handler.Pst.zero_weight_obs_names" title="Permalink to this definition">¶</a></dt>
<dd><p>get the zero-weighted observation names</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a list of zero-weighted observation names</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>[<cite>str</cite>]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-pyemu.pst.pst_utils">
<span id="pyemu-pst-pst-utils-module"></span><h2>pyemu.pst.pst_utils module<a class="headerlink" href="#module-pyemu.pst.pst_utils" title="Permalink to this headline">¶</a></h2>
<p>Various PEST(++) control file peripheral operations</p>
<dl class="py function">
<dt id="pyemu.pst.pst_utils.FFMT">
<code class="sig-prename descclassname">pyemu.pst.pst_utils.</code><code class="sig-name descname">FFMT</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.pst.pst_utils.FFMT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="pyemu.pst.pst_utils.IFMT">
<code class="sig-prename descclassname">pyemu.pst.pst_utils.</code><code class="sig-name descname">IFMT</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.pst.pst_utils.IFMT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py class">
<dt id="pyemu.pst.pst_utils.InstructionFile">
<em class="property">class </em><code class="sig-prename descclassname">pyemu.pst.pst_utils.</code><code class="sig-name descname">InstructionFile</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ins_filename</span></em>, <em class="sig-param"><span class="n">pst</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.pst.pst_utils.InstructionFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>class for handling instruction files.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ins_filename</strong> (<cite>str</cite>) – path and name of an existing instruction file</p></li>
<li><p><strong>pst</strong> (<cite>pyemu.Pst</cite>, optional) – Pst instance - used for checking that instruction file is
compatible with the control file (e.g. no duplicates)</p></li>
</ul>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">i</span> <span class="o">=</span> <span class="n">InstructionFile</span><span class="p">(</span><span class="s2">&quot;my.ins&quot;</span><span class="p">)</span>
<span class="n">df</span> <span class="o">=</span> <span class="n">i</span><span class="o">.</span><span class="n">read_output_file</span><span class="p">(</span><span class="s2">&quot;my.output&quot;</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py method">
<dt id="pyemu.pst.pst_utils.InstructionFile.obs_name_set">
<em class="property">property </em><code class="sig-name descname">obs_name_set</code><a class="headerlink" href="#pyemu.pst.pst_utils.InstructionFile.obs_name_set" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="pyemu.pst.pst_utils.InstructionFile.read_ins_file">
<code class="sig-name descname">read_ins_file</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.pst.pst_utils.InstructionFile.read_ins_file" title="Permalink to this definition">¶</a></dt>
<dd><p>read the instruction and do some minimal error checking.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This is called by the constructor</p>
</div>
</dd></dl>

<dl class="py method">
<dt id="pyemu.pst.pst_utils.InstructionFile.read_output_file">
<code class="sig-name descname">read_output_file</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">output_file</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.pst.pst_utils.InstructionFile.read_output_file" title="Permalink to this definition">¶</a></dt>
<dd><p>process a model output file using  <cite>InstructionFile.instruction_set</cite></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>output_file</strong> (<cite>str</cite>) – path and name of existing output file</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a dataframe with observation names and simulated values
extracted from <cite>output_file</cite></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><cite>pd.DataFrame</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pyemu.pst.pst_utils.InstructionFile.throw_ins_error">
<code class="sig-name descname">throw_ins_error</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">message</span></em>, <em class="sig-param"><span class="n">lcount</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.pst.pst_utils.InstructionFile.throw_ins_error" title="Permalink to this definition">¶</a></dt>
<dd><p>throw a verbose instruction file error</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>message</strong> (<cite>str</cite>) – the error message</p></li>
<li><p><strong>lcount</strong> (<cite>int</cite>, optional) – error line number.  If None, self._ins_linecount is used</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pyemu.pst.pst_utils.InstructionFile.throw_ins_warning">
<code class="sig-name descname">throw_ins_warning</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">message</span></em>, <em class="sig-param"><span class="n">lcount</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.pst.pst_utils.InstructionFile.throw_ins_warning" title="Permalink to this definition">¶</a></dt>
<dd><p>throw a verbose PyemuWarning</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>message</strong> (<cite>str</cite>) – the warning message</p></li>
<li><p><strong>lcount</strong> (<cite>int</cite>, optional) – warning line number.  If None, self._ins_linecount is used</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pyemu.pst.pst_utils.InstructionFile.throw_out_error">
<code class="sig-name descname">throw_out_error</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">message</span></em>, <em class="sig-param"><span class="n">lcount</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.pst.pst_utils.InstructionFile.throw_out_error" title="Permalink to this definition">¶</a></dt>
<dd><p>throw a verbose output file error</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>message</strong> (<cite>str</cite>) – the error message</p></li>
<li><p><strong>lcount</strong> (<cite>int</cite>, optional) – error line number.  If None, self._ins_linecount is used</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="pyemu.pst.pst_utils.SFMT">
<code class="sig-prename descclassname">pyemu.pst.pst_utils.</code><code class="sig-name descname">SFMT</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">item</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.pst.pst_utils.SFMT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="pyemu.pst.pst_utils.SFMT_LONG">
<code class="sig-prename descclassname">pyemu.pst.pst_utils.</code><code class="sig-name descname">SFMT_LONG</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.pst.pst_utils.SFMT_LONG" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="pyemu.pst.pst_utils.clean_missing_exponent">
<code class="sig-prename descclassname">pyemu.pst.pst_utils.</code><code class="sig-name descname">clean_missing_exponent</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pst_filename</span></em>, <em class="sig-param"><span class="n">clean_filename</span><span class="o">=</span><span class="default_value">'clean.pst'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.pst.pst_utils.clean_missing_exponent" title="Permalink to this definition">¶</a></dt>
<dd><p>fixes the issue where some terrible fortran program may have
written a floating point format without the ‘e’ - like 1.0-3, really?!</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pst_filename</strong> (<cite>str</cite>) – the pest control file</p></li>
<li><p><strong>clean_filename</strong> (<cite>str</cite>, optional) – the new pest control file to write.
Default is “clean.pst”</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="pyemu.pst.pst_utils.csv_to_ins_file">
<code class="sig-prename descclassname">pyemu.pst.pst_utils.</code><code class="sig-name descname">csv_to_ins_file</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">csv_filename</span></em>, <em class="sig-param"><span class="n">ins_filename</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">only_cols</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">only_rows</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">marker</span><span class="o">=</span><span class="default_value">'~'</span></em>, <em class="sig-param"><span class="n">includes_header</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">includes_index</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">prefix</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">longnames</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">head_lines_len</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">sep</span><span class="o">=</span><span class="default_value">','</span></em>, <em class="sig-param"><span class="n">gpname</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.pst.pst_utils.csv_to_ins_file" title="Permalink to this definition">¶</a></dt>
<dd><p>write a PEST-style instruction file from an existing CSV file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>csv_filename</strong> (<cite>str</cite>) – path and name of existing CSV file</p></li>
<li><p><strong>ins_filename</strong> (<cite>str</cite>, optional) – path and name of the instruction
file to create.  If <cite>None</cite>, then <cite>csv_filename`+”.ins” is used.
Default is `None</cite>.</p></li>
<li><p><strong>only_cols</strong> ([<cite>str</cite>]) – list of columns to add observations for in the
resulting instruction file. If <cite>None</cite>, all columns are used.</p></li>
<li><p><strong>only_rows</strong> ([<cite>str</cite>]) – list of rows to add observations for in the
resulting instruction file. If <cite>None</cite>, all rows are used.</p></li>
<li><p><strong>marker</strong> (<cite>str</cite>) – the PEST instruction marker to use.  Default is “~”</p></li>
<li><p><strong>includes_header</strong> (<cite>bool</cite>) – flag to indicate <cite>csv_filename</cite> includes a
header row as the first row.  Default is True.</p></li>
<li><p><strong>includes_index</strong> (<cite>bool</cite>) – lag to indicate <cite>csv_filename</cite> includes a
index column as the first column.  Default is True.</p></li>
<li><p><strong>prefix</strong> (<cite>str</cite>, optional) – a prefix to prepend to observation names.
Default is “”</p></li>
<li><p><strong>gpname</strong> (<cite>str</cite> or [<cite>str</cite>]) – Optional PEST group name for columns</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a dataframe of observation names and values found in
<cite>csv_filename</cite></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><cite>pandas.DataFrame</cite></p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>resulting observation names in <cite>ins_filename</cite> are a combiation of index and
header values.</p>
</div>
</dd></dl>

<dl class="py function">
<dt id="pyemu.pst.pst_utils.generic_pst">
<code class="sig-prename descclassname">pyemu.pst.pst_utils.</code><code class="sig-name descname">generic_pst</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">par_names</span><span class="o">=</span><span class="default_value">['par1']</span></em>, <em class="sig-param"><span class="n">obs_names</span><span class="o">=</span><span class="default_value">['obs1']</span></em>, <em class="sig-param"><span class="n">addreg</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.pst.pst_utils.generic_pst" title="Permalink to this definition">¶</a></dt>
<dd><p>generate a generic pst instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>par_names</strong> ([<cite>str</cite>], optional) – parameter names to include in the new
<cite>pyemu.Pst</cite>.  Default is [“par2”].</p></li>
<li><p><strong>obs_names</strong> ([<cite>str</cite>], optional) – observation names to include in the new
<cite>pyemu.Pst</cite>.  Default is [“obs1”].</p></li>
<li><p><strong>addreg</strong> (<cite>bool</cite>) – flag to add zero-order Tikhonov prior information
equations to the new control file</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a new control file instance. This instance does not have
all the info needed to run, but is a placeholder that can then be
filled in later.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><cite>pyemu.Pst</cite></p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">par_names</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;par1&quot;</span><span class="p">,</span><span class="s2">&quot;par2&quot;</span><span class="p">]</span>
<span class="n">obs_names</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;obs1&quot;</span><span class="p">,</span><span class="s2">&quot;obs2&quot;</span><span class="p">]</span>
<span class="n">pst</span> <span class="o">=</span> <span class="n">pyemu</span><span class="o">.</span><span class="n">pst_utils</span><span class="o">.</span><span class="n">generic_pst</span><span class="p">(</span><span class="n">par_names</span><span class="p">,</span><span class="n">obs_names</span><span class="p">]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="pyemu.pst.pst_utils.get_phi_comps_from_recfile">
<code class="sig-prename descclassname">pyemu.pst.pst_utils.</code><code class="sig-name descname">get_phi_comps_from_recfile</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">recfile</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.pst.pst_utils.get_phi_comps_from_recfile" title="Permalink to this definition">¶</a></dt>
<dd><p>read the phi components from a record file by iteration</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>recfile</strong> (<cite>str</cite>) – pest record file name</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>nested dictionary of iteration number, {group,contribution}</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><cite>dict</cite></p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It is really poor form to use the record file in this way.  Please only
use this as a last resort!</p>
</div>
</dd></dl>

<dl class="py function">
<dt id="pyemu.pst.pst_utils.parse_ins_file">
<code class="sig-prename descclassname">pyemu.pst.pst_utils.</code><code class="sig-name descname">parse_ins_file</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ins_file</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.pst.pst_utils.parse_ins_file" title="Permalink to this definition">¶</a></dt>
<dd><p>parse a PEST-style instruction file to get observation names</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>ins_file</strong> (<cite>str</cite>) – path and name of an existing instruction file</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a list of observation names found in <cite>ins_file</cite></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>[<cite>str</cite>]</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This is a basic function for parsing instruction files to
look for observation names.</p>
</div>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">obs_names</span> <span class="o">=</span> <span class="n">pyemu</span><span class="o">.</span><span class="n">pst_utils</span><span class="o">.</span><span class="n">parse_ins_file</span><span class="p">(</span><span class="s2">&quot;my.ins&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="pyemu.pst.pst_utils.parse_tpl_file">
<code class="sig-prename descclassname">pyemu.pst.pst_utils.</code><code class="sig-name descname">parse_tpl_file</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tpl_file</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.pst.pst_utils.parse_tpl_file" title="Permalink to this definition">¶</a></dt>
<dd><p>parse a PEST-style template file to get the parameter names</p>
<p>Args:
tpl_file (<cite>str</cite>): path and name of a template file</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>list of parameter names found in <cite>tpl_file</cite></p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>[<cite>str</cite>]</p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">par_names</span> <span class="o">=</span> <span class="n">pyemu</span><span class="o">.</span><span class="n">pst_utils</span><span class="o">.</span><span class="n">parse_tpl_file</span><span class="p">(</span><span class="s2">&quot;my.tpl&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="pyemu.pst.pst_utils.process_output_files">
<code class="sig-prename descclassname">pyemu.pst.pst_utils.</code><code class="sig-name descname">process_output_files</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pst</span></em>, <em class="sig-param"><span class="n">pst_path</span><span class="o">=</span><span class="default_value">'.'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.pst.pst_utils.process_output_files" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>helper function to process output files using the</dt><dd><p>InstructionFile class</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pst</strong> (<cite>pyemu.Pst</cite>) – control file instance</p></li>
<li><p><strong>pst_path</strong> – path to instruction and output files to append to the front
of the names in the Pst instance</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="pyemu.pst.pst_utils.read_parfile">
<code class="sig-prename descclassname">pyemu.pst.pst_utils.</code><code class="sig-name descname">read_parfile</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">parfile</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.pst.pst_utils.read_parfile" title="Permalink to this definition">¶</a></dt>
<dd><p>load a PEST-style parameter value file into a pandas.DataFrame</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>parfile</strong> (<cite>str</cite>) – path and name of existing parameter file</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a dataframe with columns of “parnme”, “parval1”,
“scale” and “offset”</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><cite>pandas.DataFrame</cite></p>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pyemu</span><span class="o">.</span><span class="n">pst_utils</span><span class="o">.</span><span class="n">read_parfile</span><span class="p">(</span><span class="s2">&quot;my.par1&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="pyemu.pst.pst_utils.read_resfile">
<code class="sig-prename descclassname">pyemu.pst.pst_utils.</code><code class="sig-name descname">read_resfile</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">resfile</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.pst.pst_utils.read_resfile" title="Permalink to this definition">¶</a></dt>
<dd><p>load a PEST-style residual file into a pandas.DataFrame</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>resfile</strong> – path and name of an existing residual file</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="pyemu.pst.pst_utils.res_from_en">
<code class="sig-prename descclassname">pyemu.pst.pst_utils.</code><code class="sig-name descname">res_from_en</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pst</span></em>, <em class="sig-param"><span class="n">enfile</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.pst.pst_utils.res_from_en" title="Permalink to this definition">¶</a></dt>
<dd><p>load ensemble results from PESTPP-IES into a PEST-style
residuals <cite>pandas.DataFrame</cite></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>enfile</strong> (<cite>str</cite>) – CSV-format ensemble file name</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a dataframe with the same columns as a
residual dataframe (a la <cite>pst_utils.read_resfile()</cite>)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><cite>pandas.DataFrame</cite></p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If a “base” realization is found in the ensemble, it is used
as the “modelled” column in the residuals dataframe.  Otherwise,
the mean of the ensemble is used as “modelled”</p>
</div>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pyemu</span><span class="o">.</span><span class="n">pst_utils</span><span class="o">.</span><span class="n">res_from_en</span><span class="p">(</span><span class="s2">&quot;my.0.obs.csv&quot;</span><span class="p">)</span>
<span class="n">df</span><span class="o">.</span><span class="n">residual</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s2">&quot;hist&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="pyemu.pst.pst_utils.res_from_obseravtion_data">
<code class="sig-prename descclassname">pyemu.pst.pst_utils.</code><code class="sig-name descname">res_from_obseravtion_data</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">observation_data</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.pst.pst_utils.res_from_obseravtion_data" title="Permalink to this definition">¶</a></dt>
<dd><p>create a PEST-style residual dataframe filled with np.NaN for
missing information</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>observation_data</strong> (<cite>pandas.DataFrame</cite>) – the “* observation data”
<cite>pandas.DataFrame</cite> from <cite>pyemu.Pst.observation_data</cite></p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a dataframe with the same columns as the
residual dataframe (“name”,”group”,”measured”,”modelled”,
“residual”,”weight”).</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><cite>pandas.DataFrame</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="pyemu.pst.pst_utils.str_con">
<code class="sig-prename descclassname">pyemu.pst.pst_utils.</code><code class="sig-name descname">str_con</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">item</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.pst.pst_utils.str_con" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="pyemu.pst.pst_utils.try_process_output_file">
<code class="sig-prename descclassname">pyemu.pst.pst_utils.</code><code class="sig-name descname">try_process_output_file</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ins_file</span></em>, <em class="sig-param"><span class="n">output_file</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.pst.pst_utils.try_process_output_file" title="Permalink to this definition">¶</a></dt>
<dd><p>attempt to process a model output file using a PEST-style instruction file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ins_file</strong> (<cite>str</cite>) – path and name of an instruction file</p></li>
<li><p><strong>output_file</strong> (<cite>str</cite>,optional) – path and name of existing model
output file to process.  If <cite>None</cite>, <cite>ins_file.replace(“.ins”,””)</cite>
is used.  Default is None.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a dataframe of observation name and simulated outputs
extracted from <cite>output_file</cite>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><cite>pandas.DataFrame</cite></p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If an exception is raised when processing the output file, the exception
is echoed to the screen and <cite>None</cite> is returned.</p>
</div>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">pyemu</span><span class="o">.</span><span class="n">pst_utils</span><span class="o">.</span><span class="n">try_process_output_file</span><span class="p">(</span><span class="s2">&quot;my.ins&quot;</span><span class="p">,</span><span class="s2">&quot;my.output&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="pyemu.pst.pst_utils.try_process_output_pst">
<code class="sig-prename descclassname">pyemu.pst.pst_utils.</code><code class="sig-name descname">try_process_output_pst</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pst</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.pst.pst_utils.try_process_output_pst" title="Permalink to this definition">¶</a></dt>
<dd><p>attempt to process each instruction file, model output
file pair in a <cite>pyemu.Pst</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>pst</strong> (<cite>pyemu.Pst</cite>) – a control file instance</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a dataframe of observation names and simulated outputs
extracted from model output files.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><cite>pandas.DataFrame</cite></p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function first tries to process the output files using the
InstructionFile class,  If that failes, then it tries to run
INSCHEK. If an instructionfile is processed successfully,
the extract simulated values are used to populate the
<cite>pst.observation_data.obsval</cite> attribute.</p>
</div>
</dd></dl>

<dl class="py function">
<dt id="pyemu.pst.pst_utils.write_input_files">
<code class="sig-prename descclassname">pyemu.pst.pst_utils.</code><code class="sig-name descname">write_input_files</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">pst</span></em>, <em class="sig-param"><span class="n">pst_path</span><span class="o">=</span><span class="default_value">'.'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.pst.pst_utils.write_input_files" title="Permalink to this definition">¶</a></dt>
<dd><p>write parameter values to model input files</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pst</strong> (<cite>pyemu.Pst</cite>) – a Pst instance</p></li>
<li><p><strong>pst_path</strong> (<cite>str</cite>) – the path to where the control file and template
files reside.  Default is ‘.’.</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function uses template files with the current parameter         values (stored in <cite>pst.parameter_data.parval1</cite>).</p>
<p>This function uses multiprocessing - one process per template file</p>
<p>This is a simple implementation of what PEST does.  It does not
handle all the special cases, just a basic function…user beware</p>
</div>
</dd></dl>

<dl class="py function">
<dt id="pyemu.pst.pst_utils.write_parfile">
<code class="sig-prename descclassname">pyemu.pst.pst_utils.</code><code class="sig-name descname">write_parfile</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">parfile</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.pst.pst_utils.write_parfile" title="Permalink to this definition">¶</a></dt>
<dd><p>write a PEST-style parameter file from a dataframe</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<cite>pandas.DataFrame</cite>) – a dataframe with column names
that correspond to the entries in the parameter data
section of the pest control file</p></li>
<li><p><strong>parfile</strong> (<cite>str</cite>) – name of the parameter file to write</p></li>
</ul>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pyemu</span><span class="o">.</span><span class="n">pst_utils</span><span class="o">.</span><span class="n">write_parfile</span><span class="p">(</span><span class="n">pst</span><span class="o">.</span><span class="n">parameter_data</span><span class="p">,</span><span class="s2">&quot;my.par&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="pyemu.pst.pst_utils.write_to_template">
<code class="sig-prename descclassname">pyemu.pst.pst_utils.</code><code class="sig-name descname">write_to_template</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">parvals</span></em>, <em class="sig-param"><span class="n">tpl_file</span></em>, <em class="sig-param"><span class="n">in_file</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pyemu.pst.pst_utils.write_to_template" title="Permalink to this definition">¶</a></dt>
<dd><p>write parameter values to a model input file using
the corresponding template file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>parvals</strong> (<cite>dict</cite>) – a container of parameter names and values.  Can
also be a <cite>pandas.Series</cite></p></li>
<li><p><strong>tpl_file</strong> (<cite>str</cite>) – path and name of a template file</p></li>
<li><p><strong>in_file</strong> (<cite>str</cite>) – path and name of model input file to write</p></li>
</ul>
</dd>
</dl>
<p>Examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pyemu</span><span class="o">.</span><span class="n">pst_utils</span><span class="o">.</span><span class="n">write_to_template</span><span class="p">(</span><span class="n">par</span><span class="o">.</span><span class="n">parameter_data</span><span class="o">.</span><span class="n">parval1</span><span class="p">,</span>
                                  <span class="s2">&quot;my.tpl&quot;</span><span class="p">,</span><span class="s2">&quot;my.input&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="module-pyemu.pst">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-pyemu.pst" title="Permalink to this headline">¶</a></h2>
<p>This is the pyemu module for handling PEST control files. It provides functionality
for reading and writing control files, creating new control files, and manipulating
all sections of the control file.  The primary object is the Pst…start there.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Jeremy White, Mike Fienen, Brioch Hemmings, and others

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>